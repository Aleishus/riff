== Prerequisites

1. a running 1.7 Kubernetes cluster (instructions assume minikube for now)
2. Kafka installed on the cluster using https://github.com/Yolean/kubernetes-kafka

== Build

```
./mvnw clean package
```

Create the Docker Images. No need to push if using the Minikube Docker daemon.

```
cd function-dispatcher
docker build -t sk8s/function-dispatcher:v0001 .
cd ../topic-controller
docker build -t sk8s/topic-controller:v0001 .
cd ../topic-gateway
docker build -t sk8s/topic-gateway:v0001 .
cd ..
```

== Deploy

```
kubectl apply -f ./config/
```

== Create a Topic

```
kubectl create -f samples/words-topic.yaml
```

== Create a Function

```
kubectl create -f samples/uppercase-function.yaml
```

== Publish a Message to the Topic

```
curl -H "Content-Type: text/plain" 192.168.99.100:30111/messages/words -d FooBar
```
